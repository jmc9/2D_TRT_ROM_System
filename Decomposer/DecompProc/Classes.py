#!/usr/bin/env python3
#==================================================================================================================================#
#
# Classes.py
# Author: Joseph M. Coale
# jmcoale@ncsu.edu - josephcoale912@gmail.com
#
#==================================================================================================================================#
#importing packages
#==================================================================================================================================#

#==================================================================================================================================#
#
#==================================================================================================================================#
class Grid:
    def __init__(self,bnds,crds):
        self.bnds = bnds
        self.crds = crds

#==================================================================================================================================#
#
#==================================================================================================================================#
class Dimension:
    name = ''
    len  = 0
    def __init__(self,len=0,name=''):
        self.name = name
        self.len  = len

#==================================================================================================================================#
#
#==================================================================================================================================#
class DMD:

    N_modes = 0
    eval    = complex(0.,0.)
    evec    = complex(0.,0.)
    expval  = complex(0.,0.)
    uvec    = 0.
    r_evec  = complex(0.,0.)

    def __init__(self,N_modes=0,eval=complex(0.,0.),evec=complex(0.,0.),expval=complex(0.,0.),uvec=0.,r_evec=complex(0.,0.)):
        self.N_modes = N_modes
        self.eval    = eval
        self.evec    = evec
        self.expval  = expval
        self.uvec    = uvec
        self.r_evec  = r_evec

#==================================================================================================================================#
#
#==================================================================================================================================#
class POD:
    U = []
    S = []
    V = []
    C = []
    t_rank = 0

    def __init__(self, U=[], S=[], V=[], C=[], tr=0):
        self.U = U
        self.S = S
        self.V = V
        self.C = C
        self.t_rank = tr

#==================================================================================================================================#
#
#==================================================================================================================================#
class Data:

    name  = ''
    dat   = []
    grids = Grid([],[])
    dims  = Dimension()
    clen  = 0.
    rank  = 0.
    opt   = [0]

    def __init__(self,name):
        self.name  = name
        return

    def typeset(self,type):
        self.type = type

        if (type in ['DMD','DMDg']):
            self.dat = DMD()
        elif (type in ['POD','PODg']):
            self.dat = POD()
        else:
            print('Error! unsupported decomposition type detected')
            quit()
